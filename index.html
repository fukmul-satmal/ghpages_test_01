<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>GitHub Pages (Master Repository)</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!--
<script src="https://cdn.auth0.com/js/auth0-spa-js/1.2/auth0-spa-js.production.js"></script>
-->
<script src="https://cdn.auth0.com/js/auth0/9.11/auth0.min.js"></script>
<script src="script.js"></script>
    <style>
      .hidden {
        display: none;
      }
      
      label {
        margin-bottom: 10px;
        display: block;
      }
    </style>

</head>

<body>
<main>
  <h1>GitHub Pages のサンプル (Master Repository)</h1>
  <a href="https://fukmul-satmal.github.io/">__戻る__</a>
  <p id="current_url"></p>
</main>

<button id="btn-login" onclick="login()">Log in</button>
<button id="btn-logout" onclick="logout()">Log out</button>
<div>
  user:<input type="text" id="user" /><br/>
  pass:<input type="text" id="pass" /><br/>
  realm:<input type="text" id="realm" /><br/>
  nonce:<input type="text" id="nonce" /><br/>
  code:<input type="text" id="code" /><br/>
  verifire:<input type="text" id="verifire" /><br/>
</div>
    <!--ログイン後に表示-->
    <div class="hidden" id="gated-content">
      <p>
        You're seeing this content because you're currently
        <strong>logged in</strong>.
      </p>
      <label>
        Access token: 
        <pre id="ipt-access-token"></pre>
      </label>
      <label>
        User profile:
        <pre id="ipt-user-profile"></pre>
      </label>

      <label>
          User profile Image:
          <img src="" id="ipt-user-profile-image" width="200px">
        </label>
    </div>

<script>
console.log('GitHub Pages Master Repository');

let verifier = window.sessionStrage.getItem("verifier");
if (!verifier) {
  verifier = base64URLEncode(crypto.randomBytes(32));
  window.sessionStrage.setItem("verifier", verifier);
}
document.getElementById("verifire").value = verifier;

jQuery( function() {
    jQuery( '#current_url' ).text( location.href );
} );

</script>
</body>
</html>