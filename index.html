<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>GitHub Pages (Master Repository)</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!--
<script src="https://cdn.auth0.com/js/auth0-spa-js/1.2/auth0-spa-js.production.js"></script>
-->


<!-- reCAPCHA -->
<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>


<script src="https://cdn.auth0.com/js/auth0/9.11/auth0.min.js"></script>
<script src="script.js"></script>
    <style>
      .hidden {
        display: none;
      }
      
      label {
        margin-bottom: 10px;
        display: block;
      }
    </style>

</head>

<body>
<main>
  <h1>GitHub Pages のサンプル (Master Repository)</h1>
  <a href="https://fukmul-satmal.github.io/">__戻る__</a>
  <p id="current_url"></p>
</main>


<!-- reCAPCHA -->
<!--
<button id="btn-login" onclick="loginmodule.login();">Log in</button>
-->
<button id="btn-login">Log in</button>


<button id="btn-logout" onclick="loginmodule.logout();">Log out</button>
<button id="btn-getUserByAccessToken" onclick="loginmodule.getUserByAccessToken();">getUser</button>
<button id="btn-getRefreshToken" onclick="loginmodule.getRefreshToken();">getRefreshToken</button>
<button id="btn-getAllKey" onclick="loginmodule.getAllKey();">getAllKey</button>
<button id="btn-rotateKey" onclick="loginmodule.rotateKey();">rotateKey</button>
<button id="btn-verifyOldToken" onclick="loginmodule.verifyOldToken();">verifyOldToken</button>
<button id="btn-getLog" onclick="loginmodule.getLog();">getLog</button>
<div>
  user:<input type="text" id="user" /><br/>
  pass:<input type="text" id="pass" /><br/>
  realm:<input type="text" id="realm" /><br/>
  nonce:<input type="text" id="nonce" /><br/>
  code:<input type="text" id="code" /><br/>
  verifier:<input type="text" id="verifier" /><br/>
  grant_type:<input type="text" id="grant_type" value="authorization_code" /><br/>
  access_token:<input type="text" id="access_token" /><br/>
  refresh_token:<input type="text" id="refresh_token" /><br/>
  client_id:<input type="text" id="client_id" /><br/>
  client_secret:<input type="text" id="client_secret" /><br/>
  log checkpoint id:<input type="text" id="log_checkpoint_id" /><br/>
</div>
<form id="codepost_id" name="codepost">
  <input type="hidden" name="code" value="" />
  <input type="hidden" name="code_verifier" value="" />
  <input type="hidden" name="grant_type" value="authorization_code" />
  <input type="hidden" name="client_id" value="" />
  <input type="hidden" name="redirect_uri" value="" />
</form>
    <!--ログイン後に表示-->
    <div class="hidden" id="gated-content">
      <p>
        You're seeing this content because you're currently
        <strong>logged in</strong>.
      </p>	
      <label>
        Access token: 
        <pre id="ipt-access-token"></pre>
      </label>
      <label>
        User profile:
        <pre id="ipt-user-profile"></pre>
      </label>

      <label>
          User profile Image:
          <img src="" id="ipt-user-profile-image" width="200px">
        </label>
    </div>

<script>
console.log('GitHub Pages Master Repository');

var loginmodule = require('loginmodule');

jQuery( function() {
    jQuery( '#current_url' ).text( location.href );
} );


reCAPCHA
var onSubmit = function(siteverify) {
alert(siteverify);
    loginmodule.login(siteverify);
};
var onloadCallback = function() {
    var widgetId = grecaptcha.render('btn-login', {
                       'sitekey' : 'sitekey',
                       'callback' : onSubmit
                   });
};


</script>
</body>
</html>